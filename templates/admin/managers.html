{% extends "base.html" %}
{% block title %}Managers Â· Task Management System{% endblock %}

{% block content %}
<section class="page-header">
  <h1>Managers</h1>
  <div class="actions">
    <a class="btn" href="/admin/create_manager/html">New Manager</a>
  </div>
</section>

<div class="card">
  <div class="table-toolbar">
    <input type="search" id="managerSearch" placeholder="Search managers by name or email" aria-label="Search managers" />
  </div>
  <div class="table-wrap">
    <table class="table sortable" id="managersTable">
      <thead>
        <tr>
          <th data-sort="string">Name</th>
          <th data-sort="string">Email</th>
          <th>Team Size</th>
          <th data-sort="string">Created</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for m in managers %}
        <tr>
          <td><a class="link" href="/admin/manager/{{ m.id }}/html">{{ m.name }}</a></td>
          <td>{{ m.email }}</td>
          <td>{{ m.team_size }}</td>
          <td>{{ m.created_at }}</td>
          <td class="table-actions">
            <a class="btn small" href="/admin/manager/{{ m.id }}/html">View</a>
            <a class="btn small danger" href="/admin/manager/{{ m.id }}/delete" onclick="return confirm('Delete manager {{ m.name }}?')">Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', path='js/dashboard.js') }}" defer></script>
{% endblock %}
